ATENÇÃO: este arquivo de texto é apenas um mini guia para se situar de como instalar/configurar manualmente esse projeto.
Alguns detalhes são omitidos, requerendo que o leito tenha familiaridade com build de projetos e linux.

E Recomendado que utilize o script setup.sh para instalação e configuração automática.

na mesma maquina:

após instalar o raspotify, editar o arquivo de configuração "/etc/default/raspotify", adicionando no campo OPTIONS:
OPTIONS="--device /tmp/snapfifo"
BACKEND_ARGS="--backend pipe"

instalar o snapcast server, e no arquivo /etc/snapserver.config, adicionar a linha:
stream = pipe:///tmp/snapfifo?name=Spotify&sampleformat=44100:16:2

obs: sobre o sampleformat: https://github.com/badaix/snapcast/issues/102


na(s) maquina que vão tocar:

instalar snapcast client

caso tenha alterado configurações de rede do server (ip e/ou porta) configurar o client de acordo,
se não, não é necessário fazer nada.


para instalar o shairport (suporte ao airplay)

clone o repositório https://github.com/mikebrady/shairport-sync

siga as instruções de instalação do proprio repositório, habilitando a flag --with-pipe

configure o arquivo /etc/shairport-sync.conf, para utilizar o pipe como backend e o pipe ser /tmp/snapfifo_shairport

então adicione esta linha no arquivo /etc/snapserver.config:
stream = pipe:///tmp/snapfifo_shairport?name=ShairportSync&sampleformat=44100:16:2